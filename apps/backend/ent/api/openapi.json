{
  "openapi": "3.0.3",
  "info": {
    "title": "MORIS",
    "description": "MORIS",
    "version": "1.0"
  },
  "components": {
    "schemas": {
      "DescriptionChangedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "description": {
            "type": "string"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "description",
          "event"
        ]
      },
      "EndDateChangedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "end_date": {
            "type": "string",
            "format": "date-time"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "end_date",
          "event"
        ]
      },
      "Event": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "project_id": {
            "type": "string",
            "format": "uuid"
          },
          "version": {
            "type": "integer"
          },
          "type": {
            "type": "string"
          },
          "occurred_at": {
            "type": "string",
            "format": "date-time"
          },
          "project_started": {
            "$ref": "#/components/schemas/ProjectStartedEvent"
          },
          "title_changed": {
            "$ref": "#/components/schemas/TitleChangedEvent"
          },
          "description_changed": {
            "$ref": "#/components/schemas/DescriptionChangedEvent"
          },
          "start_date_changed": {
            "$ref": "#/components/schemas/StartDateChangedEvent"
          },
          "end_date_changed": {
            "$ref": "#/components/schemas/EndDateChangedEvent"
          },
          "organisation_changed": {
            "$ref": "#/components/schemas/OrganisationChangedEvent"
          },
          "person_added": {
            "$ref": "#/components/schemas/PersonAddedEvent"
          },
          "person_removed": {
            "$ref": "#/components/schemas/PersonRemovedEvent"
          }
        },
        "required": [
          "id",
          "project_id",
          "version",
          "type",
          "occurred_at"
        ]
      },
      "OrganisationChangedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "organisation_id": {
            "type": "string"
          },
          "organisation_name": {
            "type": "string"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "organisation_id",
          "organisation_name",
          "event"
        ]
      },
      "PersonAddedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "person_id": {
            "type": "string",
            "format": "uuid"
          },
          "person_name": {
            "type": "string"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "person_id",
          "person_name",
          "event"
        ]
      },
      "PersonRemovedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "event"
        ]
      },
      "ProjectStartedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "start_date": {
            "type": "string",
            "format": "date-time"
          },
          "end_date": {
            "type": "string",
            "format": "date-time"
          },
          "organisation_name": {
            "type": "string"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "title",
          "description",
          "start_date",
          "end_date",
          "organisation_name",
          "event"
        ]
      },
      "StartDateChangedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "start_date": {
            "type": "string",
            "format": "date-time"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "start_date",
          "event"
        ]
      },
      "TitleChangedEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "event": {
            "$ref": "#/components/schemas/Event"
          }
        },
        "required": [
          "id",
          "title",
          "event"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "email",
          "password"
        ]
      }
    },
    "responses": {
      "400": {
        "description": "invalid input, data invalid",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "status": {
                  "type": "string"
                },
                "errors": {}
              },
              "required": [
                "code",
                "status"
              ]
            }
          }
        }
      },
      "403": {
        "description": "insufficient permissions",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "status": {
                  "type": "string"
                },
                "errors": {}
              },
              "required": [
                "code",
                "status"
              ]
            }
          }
        }
      },
      "404": {
        "description": "resource not found",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "status": {
                  "type": "string"
                },
                "errors": {}
              },
              "required": [
                "code",
                "status"
              ]
            }
          }
        }
      },
      "409": {
        "description": "conflicting resources",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "status": {
                  "type": "string"
                },
                "errors": {}
              },
              "required": [
                "code",
                "status"
              ]
            }
          }
        }
      },
      "500": {
        "description": "unexpected error",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer"
                },
                "status": {
                  "type": "string"
                },
                "errors": {}
              },
              "required": [
                "code",
                "status"
              ]
            }
          }
        }
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "apiKey",
        "description": "Type \"Bearer\" then a space and your JWT token.",
        "name": "Authorization",
        "in": "header"
      }
    }
  }
}