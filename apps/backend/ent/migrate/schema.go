// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// CustomFieldDefinitionsColumns holds the columns for the "custom_field_definitions" table.
	CustomFieldDefinitionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "name", Type: field.TypeString},
		{Name: "type", Type: field.TypeEnum, Enums: []string{"TEXT", "NUMBER", "BOOLEAN", "DATE"}},
		{Name: "category", Type: field.TypeEnum, Enums: []string{"PROJECT", "PERSON"}, Default: "PROJECT"},
		{Name: "description", Type: field.TypeString, Nullable: true},
		{Name: "required", Type: field.TypeBool, Default: false},
		{Name: "validation_regex", Type: field.TypeString, Nullable: true},
		{Name: "example_value", Type: field.TypeString, Nullable: true},
		{Name: "organisation_node_id", Type: field.TypeUUID},
	}
	// CustomFieldDefinitionsTable holds the schema information for the "custom_field_definitions" table.
	CustomFieldDefinitionsTable = &schema.Table{
		Name:       "custom_field_definitions",
		Columns:    CustomFieldDefinitionsColumns,
		PrimaryKey: []*schema.Column{CustomFieldDefinitionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "custom_field_definitions_organisation_nodes_custom_field_definitions",
				Columns:    []*schema.Column{CustomFieldDefinitionsColumns[8]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
	}
	// ErrorLogsColumns holds the columns for the "error_logs" table.
	ErrorLogsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID, Unique: true},
		{Name: "user_id", Type: field.TypeString, Nullable: true},
		{Name: "http_method", Type: field.TypeString},
		{Name: "route", Type: field.TypeString},
		{Name: "status_code", Type: field.TypeInt},
		{Name: "error_message", Type: field.TypeString, Size: 2147483647},
		{Name: "stack_trace", Type: field.TypeString, Nullable: true, Size: 2147483647},
		{Name: "timestamp", Type: field.TypeTime},
	}
	// ErrorLogsTable holds the schema information for the "error_logs" table.
	ErrorLogsTable = &schema.Table{
		Name:       "error_logs",
		Columns:    ErrorLogsColumns,
		PrimaryKey: []*schema.Column{ErrorLogsColumns[0]},
	}
	// EventsColumns holds the columns for the "events" table.
	EventsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "project_id", Type: field.TypeUUID},
		{Name: "version", Type: field.TypeInt},
		{Name: "type", Type: field.TypeString},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"pending", "approved", "rejected"}, Default: "pending"},
		{Name: "created_by", Type: field.TypeUUID, Nullable: true},
		{Name: "occurred_at", Type: field.TypeTime},
		{Name: "data", Type: field.TypeJSON},
	}
	// EventsTable holds the schema information for the "events" table.
	EventsTable = &schema.Table{
		Name:       "events",
		Columns:    EventsColumns,
		PrimaryKey: []*schema.Column{EventsColumns[0]},
	}
	// EventPoliciesColumns holds the columns for the "event_policies" table.
	EventPoliciesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "name", Type: field.TypeString},
		{Name: "description", Type: field.TypeString, Nullable: true},
		{Name: "event_types", Type: field.TypeJSON},
		{Name: "conditions", Type: field.TypeJSON, Nullable: true},
		{Name: "action_type", Type: field.TypeEnum, Enums: []string{"notify", "request_approval"}},
		{Name: "message_template", Type: field.TypeString, Nullable: true},
		{Name: "recipient_user_ids", Type: field.TypeJSON, Nullable: true},
		{Name: "recipient_project_role_ids", Type: field.TypeJSON, Nullable: true},
		{Name: "recipient_org_role_ids", Type: field.TypeJSON, Nullable: true},
		{Name: "recipient_dynamic", Type: field.TypeJSON, Nullable: true},
		{Name: "project_id", Type: field.TypeUUID, Nullable: true},
		{Name: "enabled", Type: field.TypeBool, Default: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "org_node_id", Type: field.TypeUUID, Nullable: true},
	}
	// EventPoliciesTable holds the schema information for the "event_policies" table.
	EventPoliciesTable = &schema.Table{
		Name:       "event_policies",
		Columns:    EventPoliciesColumns,
		PrimaryKey: []*schema.Column{EventPoliciesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "event_policies_organisation_nodes_org_node",
				Columns:    []*schema.Column{EventPoliciesColumns[15]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "eventpolicy_org_node_id",
				Unique:  false,
				Columns: []*schema.Column{EventPoliciesColumns[15]},
			},
			{
				Name:    "eventpolicy_project_id",
				Unique:  false,
				Columns: []*schema.Column{EventPoliciesColumns[11]},
			},
		},
	}
	// MembershipsColumns holds the columns for the "memberships" table.
	MembershipsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "person_id", Type: field.TypeUUID},
		{Name: "role_scope_id", Type: field.TypeUUID},
	}
	// MembershipsTable holds the schema information for the "memberships" table.
	MembershipsTable = &schema.Table{
		Name:       "memberships",
		Columns:    MembershipsColumns,
		PrimaryKey: []*schema.Column{MembershipsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "memberships_persons_person",
				Columns:    []*schema.Column{MembershipsColumns[1]},
				RefColumns: []*schema.Column{PersonsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "memberships_role_scopes_role_scope",
				Columns:    []*schema.Column{MembershipsColumns[2]},
				RefColumns: []*schema.Column{RoleScopesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "membership_person_id_role_scope_id",
				Unique:  true,
				Columns: []*schema.Column{MembershipsColumns[1], MembershipsColumns[2]},
			},
		},
	}
	// NotificationsColumns holds the columns for the "notifications" table.
	NotificationsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "message", Type: field.TypeString},
		{Name: "type", Type: field.TypeEnum, Enums: []string{"info", "approval_request", "status_update"}, Default: "info"},
		{Name: "read", Type: field.TypeBool, Default: false},
		{Name: "sent_at", Type: field.TypeTime},
		{Name: "event_id", Type: field.TypeUUID, Nullable: true},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// NotificationsTable holds the schema information for the "notifications" table.
	NotificationsTable = &schema.Table{
		Name:       "notifications",
		Columns:    NotificationsColumns,
		PrimaryKey: []*schema.Column{NotificationsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "notifications_events_notifications",
				Columns:    []*schema.Column{NotificationsColumns[5]},
				RefColumns: []*schema.Column{EventsColumns[0]},
				OnDelete:   schema.SetNull,
			},
			{
				Symbol:     "notifications_users_notifications",
				Columns:    []*schema.Column{NotificationsColumns[6]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
	}
	// OrganisationNodesColumns holds the columns for the "organisation_nodes" table.
	OrganisationNodesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "name", Type: field.TypeString},
		{Name: "description", Type: field.TypeString, Nullable: true},
		{Name: "avatar_url", Type: field.TypeString, Nullable: true},
		{Name: "ror_id", Type: field.TypeString, Nullable: true},
		{Name: "slug", Type: field.TypeString, Unique: true},
		{Name: "parent_id", Type: field.TypeUUID, Nullable: true},
	}
	// OrganisationNodesTable holds the schema information for the "organisation_nodes" table.
	OrganisationNodesTable = &schema.Table{
		Name:       "organisation_nodes",
		Columns:    OrganisationNodesColumns,
		PrimaryKey: []*schema.Column{OrganisationNodesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "organisation_nodes_organisation_nodes_children",
				Columns:    []*schema.Column{OrganisationNodesColumns[6]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "organisationnode_parent_id",
				Unique:  false,
				Columns: []*schema.Column{OrganisationNodesColumns[6]},
			},
		},
	}
	// OrganisationNodeClosuresColumns holds the columns for the "organisation_node_closures" table.
	OrganisationNodeClosuresColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "depth", Type: field.TypeInt},
		{Name: "ancestor_id", Type: field.TypeUUID},
		{Name: "descendant_id", Type: field.TypeUUID},
	}
	// OrganisationNodeClosuresTable holds the schema information for the "organisation_node_closures" table.
	OrganisationNodeClosuresTable = &schema.Table{
		Name:       "organisation_node_closures",
		Columns:    OrganisationNodeClosuresColumns,
		PrimaryKey: []*schema.Column{OrganisationNodeClosuresColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "organisation_node_closures_organisation_nodes_ancestor",
				Columns:    []*schema.Column{OrganisationNodeClosuresColumns[2]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "organisation_node_closures_organisation_nodes_descendant",
				Columns:    []*schema.Column{OrganisationNodeClosuresColumns[3]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "organisationnodeclosure_ancestor_id_descendant_id",
				Unique:  true,
				Columns: []*schema.Column{OrganisationNodeClosuresColumns[2], OrganisationNodeClosuresColumns[3]},
			},
		},
	}
	// OrganisationRolesColumns holds the columns for the "organisation_roles" table.
	OrganisationRolesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "key", Type: field.TypeString},
		{Name: "display_name", Type: field.TypeString},
		{Name: "description", Type: field.TypeString, Nullable: true},
		{Name: "permissions", Type: field.TypeJSON, Nullable: true},
		{Name: "organisation_node_id", Type: field.TypeUUID},
	}
	// OrganisationRolesTable holds the schema information for the "organisation_roles" table.
	OrganisationRolesTable = &schema.Table{
		Name:       "organisation_roles",
		Columns:    OrganisationRolesColumns,
		PrimaryKey: []*schema.Column{OrganisationRolesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "organisation_roles_organisation_nodes_organisation_roles",
				Columns:    []*schema.Column{OrganisationRolesColumns[5]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "organisationrole_key_organisation_node_id",
				Unique:  true,
				Columns: []*schema.Column{OrganisationRolesColumns[1], OrganisationRolesColumns[5]},
			},
		},
	}
	// PagesColumns holds the columns for the "pages" table.
	PagesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "title", Type: field.TypeString},
		{Name: "slug", Type: field.TypeString},
		{Name: "content", Type: field.TypeJSON, Nullable: true},
		{Name: "type", Type: field.TypeEnum, Enums: []string{"project", "profile"}, Default: "project"},
		{Name: "is_published", Type: field.TypeBool, Default: false},
		{Name: "project_id", Type: field.TypeUUID, Nullable: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "user_id", Type: field.TypeUUID, Nullable: true},
	}
	// PagesTable holds the schema information for the "pages" table.
	PagesTable = &schema.Table{
		Name:       "pages",
		Columns:    PagesColumns,
		PrimaryKey: []*schema.Column{PagesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "pages_users_pages",
				Columns:    []*schema.Column{PagesColumns[9]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "page_slug",
				Unique:  true,
				Columns: []*schema.Column{PagesColumns[2]},
			},
			{
				Name:    "page_project_id",
				Unique:  false,
				Columns: []*schema.Column{PagesColumns[6]},
			},
			{
				Name:    "page_user_id",
				Unique:  false,
				Columns: []*schema.Column{PagesColumns[9]},
			},
		},
	}
	// PersonsColumns holds the columns for the "persons" table.
	PersonsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID, Unique: true},
		{Name: "user_id", Type: field.TypeUUID, Unique: true, Nullable: true},
		{Name: "orcid_id", Type: field.TypeString, Unique: true, Nullable: true},
		{Name: "name", Type: field.TypeString},
		{Name: "given_name", Type: field.TypeString, Nullable: true},
		{Name: "family_name", Type: field.TypeString, Nullable: true},
		{Name: "email", Type: field.TypeString, Unique: true},
		{Name: "avatar_url", Type: field.TypeString, Nullable: true},
		{Name: "description", Type: field.TypeString, Nullable: true},
		{Name: "org_custom_fields", Type: field.TypeJSON, Nullable: true},
	}
	// PersonsTable holds the schema information for the "persons" table.
	PersonsTable = &schema.Table{
		Name:       "persons",
		Columns:    PersonsColumns,
		PrimaryKey: []*schema.Column{PersonsColumns[0]},
	}
	// PortfoliosColumns holds the columns for the "portfolios" table.
	PortfoliosColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "headline", Type: field.TypeString, Nullable: true},
		{Name: "summary", Type: field.TypeString, Nullable: true},
		{Name: "website", Type: field.TypeString, Nullable: true},
		{Name: "show_email", Type: field.TypeBool, Default: true},
		{Name: "show_orcid", Type: field.TypeBool, Default: true},
		{Name: "pinned_project_ids", Type: field.TypeJSON, Nullable: true},
		{Name: "pinned_product_ids", Type: field.TypeJSON, Nullable: true},
		{Name: "person_id", Type: field.TypeUUID, Unique: true},
	}
	// PortfoliosTable holds the schema information for the "portfolios" table.
	PortfoliosTable = &schema.Table{
		Name:       "portfolios",
		Columns:    PortfoliosColumns,
		PrimaryKey: []*schema.Column{PortfoliosColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "portfolios_persons_portfolio",
				Columns:    []*schema.Column{PortfoliosColumns[8]},
				RefColumns: []*schema.Column{PersonsColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
	}
	// ProductsColumns holds the columns for the "products" table.
	ProductsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "name", Type: field.TypeString},
		{Name: "language", Type: field.TypeString, Nullable: true},
		{Name: "type", Type: field.TypeInt, Nullable: true},
		{Name: "doi", Type: field.TypeString, Nullable: true},
		{Name: "zenodo_deposition_id", Type: field.TypeInt, Nullable: true},
	}
	// ProductsTable holds the schema information for the "products" table.
	ProductsTable = &schema.Table{
		Name:       "products",
		Columns:    ProductsColumns,
		PrimaryKey: []*schema.Column{ProductsColumns[0]},
	}
	// ProjectRolesColumns holds the columns for the "project_roles" table.
	ProjectRolesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "key", Type: field.TypeString},
		{Name: "name", Type: field.TypeString},
		{Name: "archived_at", Type: field.TypeTime, Nullable: true},
		{Name: "allowed_event_types", Type: field.TypeJSON, Nullable: true},
		{Name: "organisation_node_id", Type: field.TypeUUID},
	}
	// ProjectRolesTable holds the schema information for the "project_roles" table.
	ProjectRolesTable = &schema.Table{
		Name:       "project_roles",
		Columns:    ProjectRolesColumns,
		PrimaryKey: []*schema.Column{ProjectRolesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "project_roles_organisation_nodes_project_roles",
				Columns:    []*schema.Column{ProjectRolesColumns[5]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "projectrole_key_organisation_node_id",
				Unique:  true,
				Columns: []*schema.Column{ProjectRolesColumns[1], ProjectRolesColumns[5]},
			},
		},
	}
	// RoleScopesColumns holds the columns for the "role_scopes" table.
	RoleScopesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "role_id", Type: field.TypeUUID},
		{Name: "root_node_id", Type: field.TypeUUID},
	}
	// RoleScopesTable holds the schema information for the "role_scopes" table.
	RoleScopesTable = &schema.Table{
		Name:       "role_scopes",
		Columns:    RoleScopesColumns,
		PrimaryKey: []*schema.Column{RoleScopesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "role_scopes_organisation_roles_scopes",
				Columns:    []*schema.Column{RoleScopesColumns[1]},
				RefColumns: []*schema.Column{OrganisationRolesColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "role_scopes_organisation_nodes_root_node",
				Columns:    []*schema.Column{RoleScopesColumns[2]},
				RefColumns: []*schema.Column{OrganisationNodesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "rolescope_role_id_root_node_id",
				Unique:  true,
				Columns: []*schema.Column{RoleScopesColumns[1], RoleScopesColumns[2]},
			},
		},
	}
	// UsersColumns holds the columns for the "users" table.
	UsersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID, Unique: true},
		{Name: "person_id", Type: field.TypeUUID, Unique: true},
		{Name: "slug", Type: field.TypeString, Unique: true},
		{Name: "password", Type: field.TypeString, Nullable: true},
		{Name: "is_sys_admin", Type: field.TypeBool, Default: false},
		{Name: "is_active", Type: field.TypeBool, Default: true},
		{Name: "zenodo_access_token", Type: field.TypeString, Nullable: true},
		{Name: "zenodo_refresh_token", Type: field.TypeString, Nullable: true},
	}
	// UsersTable holds the schema information for the "users" table.
	UsersTable = &schema.Table{
		Name:       "users",
		Columns:    UsersColumns,
		PrimaryKey: []*schema.Column{UsersColumns[0]},
	}
	// PersonProductsColumns holds the columns for the "person_products" table.
	PersonProductsColumns = []*schema.Column{
		{Name: "person_id", Type: field.TypeUUID},
		{Name: "product_id", Type: field.TypeUUID},
	}
	// PersonProductsTable holds the schema information for the "person_products" table.
	PersonProductsTable = &schema.Table{
		Name:       "person_products",
		Columns:    PersonProductsColumns,
		PrimaryKey: []*schema.Column{PersonProductsColumns[0], PersonProductsColumns[1]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "person_products_person_id",
				Columns:    []*schema.Column{PersonProductsColumns[0]},
				RefColumns: []*schema.Column{PersonsColumns[0]},
				OnDelete:   schema.Cascade,
			},
			{
				Symbol:     "person_products_product_id",
				Columns:    []*schema.Column{PersonProductsColumns[1]},
				RefColumns: []*schema.Column{ProductsColumns[0]},
				OnDelete:   schema.Cascade,
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		CustomFieldDefinitionsTable,
		ErrorLogsTable,
		EventsTable,
		EventPoliciesTable,
		MembershipsTable,
		NotificationsTable,
		OrganisationNodesTable,
		OrganisationNodeClosuresTable,
		OrganisationRolesTable,
		PagesTable,
		PersonsTable,
		PortfoliosTable,
		ProductsTable,
		ProjectRolesTable,
		RoleScopesTable,
		UsersTable,
		PersonProductsTable,
	}
)

func init() {
	CustomFieldDefinitionsTable.ForeignKeys[0].RefTable = OrganisationNodesTable
	EventPoliciesTable.ForeignKeys[0].RefTable = OrganisationNodesTable
	MembershipsTable.ForeignKeys[0].RefTable = PersonsTable
	MembershipsTable.ForeignKeys[1].RefTable = RoleScopesTable
	NotificationsTable.ForeignKeys[0].RefTable = EventsTable
	NotificationsTable.ForeignKeys[1].RefTable = UsersTable
	OrganisationNodesTable.ForeignKeys[0].RefTable = OrganisationNodesTable
	OrganisationNodeClosuresTable.ForeignKeys[0].RefTable = OrganisationNodesTable
	OrganisationNodeClosuresTable.ForeignKeys[1].RefTable = OrganisationNodesTable
	OrganisationRolesTable.ForeignKeys[0].RefTable = OrganisationNodesTable
	PagesTable.ForeignKeys[0].RefTable = UsersTable
	PortfoliosTable.ForeignKeys[0].RefTable = PersonsTable
	ProjectRolesTable.ForeignKeys[0].RefTable = OrganisationNodesTable
	RoleScopesTable.ForeignKeys[0].RefTable = OrganisationRolesTable
	RoleScopesTable.ForeignKeys[1].RefTable = OrganisationNodesTable
	PersonProductsTable.ForeignKeys[0].RefTable = PersonsTable
	PersonProductsTable.ForeignKeys[1].RefTable = ProductsTable
}
